<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.118.2"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.png><link rel=icon type=image/x-icon href=/imgs/icons/favicon.png><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/favicon.png><meta itemprop=name content="HDU 多校 2022 游记"><meta itemprop=description content="2022 杭电多校。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://myeeye.github.io/imgs/myee.png"><meta itemprop=keywords content="游记"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.22062783e6e78c22c1f0ca7e9be14bc728e5cb4329de2bfa71fb454fbdb503d8.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ QwQ ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":true,"isHome":false,"isPage":true,"path":"HDU2022","permalink":"https://myeeye.github.io/post/HDU2022/","title":"HDU 多校 2022 游记","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>HDU 多校 2022 游记 - myee's blog</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>myee's blog</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>And in that light...</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>8</span></a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-tag hvr-icon"></i>标签</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-flinks"><a href=/flinks.html class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>友情链接</a></li><li class="menu-item menu-item-random"><a href=/random.html class=hvr-icon-pulse rel=section><i class="fa fa-random hvr-icon"></i>随机页面</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><ul><li><a href=#day-1>Day 1</a></li><li><a href=#day-2>Day 2</a></li><li><a href=#day-3>Day 3</a></li><li><a href=#day-4>Day 4</a></li><li><a href=#day-5>Day 5</a></li><li><a href=#前五场成绩>前五场成绩</a></li><li><a href=#day-6>Day 6</a></li><li><a href=#day-7>Day 7</a></li><li><a href=#day-8>Day 8</a></li><li><a href=#end>End？</a></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=myee src=/imgs/img-lazy-loading.gif data-src=/imgs/myee.png><p class=site-author-name itemprop=name>myee</p><div class=site-description itemprop=description>QwQ</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>8</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>2</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>3</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=mailto:myeeye@qq.com title="邮箱 → mailto:myeeye@qq.com" rel=noopener target=_blank><i class="fa fa-envelope fa-fw"></i>
邮箱</a></span>
<span class=links-of-social-item><a href=https://www.luogu.com.cn/user/105050 title="洛谷 → https://www.luogu.com.cn/user/105050" rel=noopener target=_blank><i class="fa fa-wifi fa-fw"></i>
洛谷</a></span>
<span class=links-of-social-item><a href=https://github.com/myeeye title="GitHub → https://github.com/myeeye" rel=noopener target=_blank><i class="fab fa-github fa-fw"></i>
GitHub</a></span>
<span class=links-of-social-item><a href=https://www.zhihu.com/people/myeeye title="知乎 → https://www.zhihu.com/people/myeeye" rel=noopener target=_blank><i class="fa fa-book fa-fw"></i>
知乎</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=2022-07-19T18:27:00+08:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=21931></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=47></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2023-09-07T17:00:00+08:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><a role=button class="book-mark-link book-mark-link-fixed"></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://myeeye.github.io/post/HDU2022/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/myee.png"><meta itemprop=name content="myee"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="myee"><meta itemprop=description content="QwQ"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="HDU 多校 2022 游记"><meta itemprop=description content="2022 杭电多校。"></span><header class=post-header><h1 class=post-title itemprop="name headline">HDU 多校 2022 游记</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span>
<span class=post-meta-item-text title=发表于>发表于：</span>
<time title="创建时间：2022-07-19 18:27:00 +0800 CST" itemprop="dateCreated datePublished" datetime="2022-07-19 18:27:00 +0800 CST">2022-07-19</time></span>
<span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i></span>
<span class=post-meta-item-text title=更新于>更新于：</span>
<time title=修改时间：2022-08-11T18:48:00+08:00 itemprop=dateModified datetime=2022-08-11T18:48:00+08:00>2022-08-11</time></span>
<span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i></span>
<span class=post-meta-item-text title=分类于>分类于：</span>
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/%E6%B8%B8%E8%AE%B0 itemprop=url rel=index><span itemprop=name>游记</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span>
<span class=post-meta-item-text>字数：</span>
<span>6404</span></span>
<span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i></span>
<span class=post-meta-item-text>阅读：&ap;</span>
<span>13分钟</span></span>
<span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="far fa-eye"></i></span>
<span class=post-meta-item-text>浏览：</span>
<span id=busuanzi_value_page_pv data-path=/post/HDU2022/><i class="fa fa-sync fa-spin"></i></span></span>
<span class=post-meta-item title><span class=post-meta-item-icon><i class="far fa-comments"></i></span>
<span class=post-meta-item-text title=评论>评论：</span>
<span id=comments-count class=waline-comment-count data-path=/post/HDU2022/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>在 XJ 501 机房打。</p><p>队伍：</p><blockquote><p>team1093 学军中学二队</p></blockquote><p><del>为什么有二队而没有一队，这是一个问题。</del></p><hr><h2 id=day-1>Day 1
<a class=header-anchor href=#day-1></a></h2><p>我们原来是打算<strong>九个人</strong>打。</p><p>因为今天隔壁机房的人搬迁过来，机房里充满了快活的气息。</p><p>因为隔壁机房的人加入进来，机房里感觉有<strong>十几个人</strong>在打。</p><p>感觉非常 exciting 啊！</p><p>由于 12:00 - 17:00 比赛，提前去吃饭了。</p><p>回来时已经是 11:50 了。</p><hr><p>EricQian：myee，那你比赛先开中间的？</p><p>myee：好。</p><p>我开场就开 G 题（一共 $12$ 题），我超勇的！</p><p><strong>我看到</strong>的
<a href="https://acm.hdu.edu.cn/showproblem.php?pid=7144" title=题>题
</a>意简述：</p><blockquote><p>给你一张图，每个点有颜色和权值，边有权值。</p><p>一个人能通过一条边当且仅当其实力不小于边权。</p><p>他可以从每种颜色的点中挑一个他可以从起点到达的点，获得其权值的贡献。</p><p>现在有两种操作。</p><p>其一，把某个点点权增加一个正值。</p><p>其二，查询某个实力的人从某起点出发所得的最大奖赏。</p><p>数据范围均为 $10^5$，时限 $4s$，多测（$5$ 组）</p></blockquote><p>我一看到就知道是 Kruskal 重构树，很快啊！</p><p>用 Dfn 转化一下，就变成了单点点权加，区间查询颜色最大权之和。</p><p>然后想都不用想，肯定是<strong>根号做法</strong>啊对不对对不对?</p><p>&mldr;</p><hr><p>代码写了 $9Kb$，包括 Kruskal 重构树、由乃救爷爷式 RMQ、根号分治、二维分块、$n^{\frac13}$ 叉树等等，复杂度 $O(n\sqrt{n\log n})$，成功贡献了 $13$ 发罚时，我觉得很下饭啊！</p><p>大家好啊，我是 $13$ 发罚时老哥 myee 啊，我来给大家直播下饭！</p><hr><p>然后后来看到 sjy 过了这题，很快啊！</p><p>我打开一看：</p><p>我敲，这怎么这么搞的？？？</p><p>PolyLog 做法？？？没有设块长！！！</p><hr><p>后来听神 SegmentTree 说，这题是虚树可以做的。</p><p>而且我还漏掉了一个重要条件——每种颜色最多出现 $10$ 次！（根号分治、${}^3!!\sqrt n$ 叉树白写了）</p><p>sjy 打的神仙单 log 做法依赖于此。</p><p>SegmentTree 说他有一个不依赖于此的 2log 做法，我觉得很厉害啊！</p><hr><p>队伍总排名第二十。</p><p>大佬带我飞！</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:03</td><td style=text-align:center>K</td><td style=text-align:center>rwalxfhg</td></tr><tr><td style=text-align:center>12:09</td><td style=text-align:center>L</td><td style=text-align:center>rwalxfhg</td></tr><tr><td style=text-align:center>12:15</td><td style=text-align:center>C</td><td style=text-align:center>realMatrixCascade</td></tr><tr><td style=text-align:center>12:58</td><td style=text-align:center>B</td><td style=text-align:center>rwalxfhg</td></tr><tr><td style=text-align:center>13:15</td><td style=text-align:center>A</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>13:40</td><td style=text-align:center>I</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>14:40</td><td style=text-align:center>J</td><td style=text-align:center>zhoukangyang(First Blood)</td></tr><tr><td style=text-align:center>15:20</td><td style=text-align:center>H</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>15:37</td><td style=text-align:center>D</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>16:46</td><td style=text-align:center>G</td><td style=text-align:center>Rainbow_qwq</td></tr></tbody></table><hr><h2 id=day-2>Day 2
<a class=header-anchor href=#day-2></a></h2><p>提前打开 HDU 看比赛界面。</p><p>焕然一新！这个 UI 很 smart 啊！</p><hr><p>EricQian 说他不打。</p><p>于是我就跟几个人去快速恰完饭后回来了。</p><hr><p>12:00，很快啊！</p><p>打开 T9。</p><p>噔噔咚，这个 $encrypted_data$ 是什么鬼啊。</p><p>然后立刻发了个 Clar。</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.luogu.com.cn/upload/image_hosting/wfb1t814.png alt></p><p>然后就改成了 $encrypted_{data}$，然而我刷新页面已经是我提交 Pollard-Rho 通过后了。</p><p>别的队有两位老哥比我早切，痛失一血。（迫真）</p><hr><p>然后就去手玩 T7。</p><p>一眼看去像统计合法对数。</p><p>打开翻译仔细一看不是。</p><p>啊这，出题人这么敢的吗？</p><p>背景：</p><blockquote><p>“SNATCH GROCERIES first, then get a covid test” has quickly become an anthem for the lockdown that started suddenly in Shanghai in the early hours of March 28th. We can describe scenes of panic buying—qiang cai, or snatching groceries—and the threat of being locked out of one’s home amid a frenzied bid to control an outbreak of covid-19 in China’s main business and finance hub. Here is the question, how does the server determine who succeeded When millions of people press the order button on their mobile phones at the same time.</p></blockquote><p>译文（百度翻译）：</p><blockquote><p>“先抢杂货，然后做新冠肺炎检测”很快成为3月28日凌晨突然在上海开始的封锁行动的颂歌。我们可以描述在中国主要商业和金融中心疯狂控制新冠肺炎疫情的过程中，抢购强菜、抢夺杂货以及被锁在家中的威胁的场景。问题是，当数百万人同时按下手机上的订单按钮时，服务器如何确定谁成功了。</p></blockquote><p><del>怕不是政治敏感？</del></p><p>去看有公式的一段，发现好像是统计<strong>有多少区间不与其余相交</strong>？</p><p>光速写了一发上去，过了样例，快速的 WA 了。</p><p>罚时喜++。</p><p>仔细读题，好像是<strong>自左往右扫描，一遇到重叠就停止</strong>。</p><p>那没事了，直接写啊！然后就过了。</p><hr><p>发现阿中队伍过了 T3，就去瞄一下题目。</p><p>看到 Clar 里面有人问这题 $n$，是否在插入后改变，admin 说不变。</p><p>开始理解为往序列最后加，看了看样例不是。</p><p>根本不为左！</p><p>直接跑了，去看别的题。</p><hr><p>由于午睡熄灯，所以是在黑暗中打题。</p><p>打开 T11。</p><p>感觉非常智慧。</p><p>$(a_i-a_j)(a_i+a_j)=a_i^2-a_j^2$，其中 $i&lt;j$。</p><p>也就是 $4$ 个点中每个点的贡献要么正要么负。</p><p>不难发现仅 $++&ndash;$ 与 $+-+-$ 两类。</p><p>尝试分类统计贡献无果。</p><p>突然想起有个叫<strong>猫树分治</strong>的东西。</p><p>然后直接对着状压 dp，前后缀信息分讨合并即可。</p><p>写起来十分恶心。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-1> 1</a></span><span>voi <span style=color:#a6e22e>dfs</span>(uint l,uint r,std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>uint<span style=color:#f92672>&gt;</span>Q)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-2> 2</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-3> 3</a></span><span>	<span style=color:#66d9ef>if</span>(Q.empty())<span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-4> 4</a></span><span>	uint mid<span style=color:#f92672>=</span>(l<span style=color:#f92672>+</span>r)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-5> 5</a></span><span>	<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span><span style=color:#f92672>&amp;</span>a:Pre[mid])<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span><span style=color:#f92672>&amp;</span>b:a)b<span style=color:#f92672>=-</span><span style=color:#ae81ff>1e18</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-6> 6</a></span><span>	Pre[mid][<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-7> 7</a></span><span>	<span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span>mid;i<span style=color:#f92672>&lt;</span>r;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-8> 8</a></span><span>		<span style=color:#66d9ef>for</span>(uint len<span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>;len;len<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-9> 9</a></span><span>			<span style=color:#66d9ef>for</span>(uint op<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;op<span style=color:#f92672>&lt;</span>(<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span>len);op<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-10>10</a></span><span>				Pre[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][len][op]<span style=color:#f92672>=</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-11>11</a></span><span>					std<span style=color:#f92672>::</span>max(Pre[i][len][op],Pre[i][len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][op<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>(op<span style=color:#f92672>&amp;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>?</span>A[i]<span style=color:#f92672>:-</span>A[i]));
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-12>12</a></span><span>	<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span><span style=color:#f92672>&amp;</span>a:Suf[mid])<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span><span style=color:#f92672>&amp;</span>b:a)b<span style=color:#f92672>=-</span><span style=color:#ae81ff>1e18</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-13>13</a></span><span>	Suf[mid][<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-14>14</a></span><span>	<span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span>mid;i<span style=color:#f92672>&gt;</span>l;i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-15>15</a></span><span>		<span style=color:#66d9ef>for</span>(uint len<span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>;len;len<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-16>16</a></span><span>			<span style=color:#66d9ef>for</span>(uint op<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;op<span style=color:#f92672>&lt;</span>(<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span>len);op<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-17>17</a></span><span>				Suf[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][len][op]<span style=color:#f92672>=</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-18>18</a></span><span>					std<span style=color:#f92672>::</span>max(Suf[i][len][op],Suf[i][len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][op<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>(op<span style=color:#f92672>&amp;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>?</span>A[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>:-</span>A[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]));
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-19>19</a></span><span>	std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>uint<span style=color:#f92672>&gt;</span>_L,_R;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-20>20</a></span><span>	<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span> q:Q){
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-21>21</a></span><span>		<span style=color:#66d9ef>if</span>(R[q]<span style=color:#f92672>&lt;</span>mid)_L.push_back(q);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-22>22</a></span><span>		<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(L[q]<span style=color:#f92672>&gt;</span>mid)_R.push_back(q);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-23>23</a></span><span>		<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-24>24</a></span><span>		{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-25>25</a></span><span>			uint l<span style=color:#f92672>=</span>L[q],r<span style=color:#f92672>=</span>R[q];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-26>26</a></span><span>			Ans[q]<span style=color:#f92672>=</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-27>27</a></span><span>				std<span style=color:#f92672>::</span>max({
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-28><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-28>28</a></span><span>					Suf[l][<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>4</span>][<span style=color:#ae81ff>12</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-29><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-29>29</a></span><span>					Suf[l][<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>4</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-30><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-30>30</a></span><span>					Suf[l][<span style=color:#ae81ff>2</span>][<span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>2</span>][<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-31><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-31>31</a></span><span>					Suf[l][<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-32><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-32>32</a></span><span>					Suf[l][<span style=color:#ae81ff>4</span>][<span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-33><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-33>33</a></span><span>					Suf[l][<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>4</span>][<span style=color:#ae81ff>10</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-34><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-34>34</a></span><span>					Suf[l][<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-35><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-35>35</a></span><span>					Suf[l][<span style=color:#ae81ff>2</span>][<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>2</span>][<span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-36><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-36>36</a></span><span>					Suf[l][<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>5</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-37><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-37>37</a></span><span>					Suf[l][<span style=color:#ae81ff>4</span>][<span style=color:#ae81ff>5</span>]<span style=color:#f92672>+</span>Pre[r][<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-38><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-38>38</a></span><span>				});
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-39><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-39>39</a></span><span>		}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-40><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-40>40</a></span><span>	}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-41><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-41>41</a></span><span>	dfs(l,mid,_L);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-42><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-42>42</a></span><span>	dfs(mid,r,_R);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-43><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-43>43</a></span><span>}
</span></span></code></pre></div><p>其实空间可以线性，但是懒了，不想打前向星。</p><p>然后就过了。</p><hr><p>打完后考虑做哪道。</p><p>这时右后方<strong>突然出现一个 zhouAK</strong>！</p><p>此时灯还没开。</p><p>zak：T3 是<strong>可持久化平衡树</strong>板题，我去写了！</p><p>害怕。</p><p>zak 恐怖如斯。/jk/jk/jk</p><hr><p>接下来就是“打开一题，不会一题”的状态。</p><p>最后我打开了 T4（计算几何）。</p><p>就是判断空间中两个圆环是否相互套住。</p><p>我细细想了想，直接搞个随机向量向圈一做正交投影，看它方向上 $R$ 处在不在圈二平面上，多随机几次判断就好了？？？</p><p>身后<strong>突然出现</strong>神 SegmentTree。</p><p>他发现我也在做此题，问我咋做求两平面交线上任一点。</p><p>我大肆宣扬了乱搞做法，使他大受震撼，他半信半疑的走开了。</p><p>我写完后交掉，愉快的 WA 了。</p><p>然后想了想，改成了一个基于<strong>交线法向步进微小位移</strong>的做法，刚刚打完要调试时，神 SegmentTree 说<strong>他过了</strong>。</p><hr><p>Fire Blade Master 说要我们认真做 XJOI 题，赶紧上去把几道做过的多项式板子题秒了，然后回去看了眼榜，现在我们还是过 $9$ 题的状态（zak 早就已经切 C 了）。</p><p>反正其它题也不会了，直接跑路去洛谷上做题了。</p><p>顺带给某些上午没认真听 $O(n^2)$ 多项式的课的小朋友辅导了一下 $O(n^2)$ 的求逆与 exp。</p><hr><p>晚饭后过去看了看榜，排名出来了，第 $8$ 名。</p><p>zak 他们不知道啥时候切了剩下 $3$ 题，成功<strong>阿克</strong>了。</p><p>/se/se/se</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:10</td><td style=text-align:center>I</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:11</td><td style=text-align:center>L</td><td style=text-align:center>realMatrixCascade</td></tr><tr><td style=text-align:center>12:13</td><td style=text-align:center>B</td><td style=text-align:center>realMatrixCascade</td></tr><tr><td style=text-align:center>12:19</td><td style=text-align:center>G</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:31</td><td style=text-align:center>A</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>12:44</td><td style=text-align:center>E</td><td style=text-align:center>zhoukangyang(First Blood)</td></tr><tr><td style=text-align:center>12:59</td><td style=text-align:center>K</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>13:19</td><td style=text-align:center>C</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>14:19</td><td style=text-align:center>D</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>15:39</td><td style=text-align:center>F</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>16:11</td><td style=text-align:center>J</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>16:43</td><td style=text-align:center>H</td><td style=text-align:center>Forever_Pursuit</td></tr></tbody></table><hr><h2 id=day-3>Day 3
<a class=header-anchor href=#day-3></a></h2><p>听 EricQian 说：</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.luogu.com.cn/upload/image_hosting/yb50ulzk.png alt="Claris 命题"></p><p>Claris！/se/se/se</p><hr><p>然而比赛当天完全忘了比赛，12:00 才刚刚敲好
<a href=https://www.luogu.com.cn/problem/P5438 title=某毒瘤题>某毒瘤题
</a>，打算去吃饭了才想起来。/jk/jk/jk</p><p>直接不吃饭了！开题开题开题！</p><p>P.S. 今天大多数人 12:00 前似乎都忘了多校。</p><hr><p>打开账号发现 C 题过了一车人，直接开打。</p><p>写的 <code>getchar()</code>，用的 CP Editor。</p><p>我敲，咋卡样例超时住了！</p><p>找了 0.5min bug 无果。</p><p>突然发现样例 copy 时末尾忘换行了！！！</p><p>加了一个，交上去，过了。</p><p>此时已经快 10min 了。</p><hr><p>随机开了个 F 题。</p><p>我敲带修区间最小覆盖圆？？？</p><p>楞了 3min 才发现输入格式里<strong>保证数据随机</strong>。</p><p>这不<strong>随机增量</strong>？？？<strong>分块</strong>即可。</p><p>化了 30min 打了出来。</p><p><code>Runtime Error</code>。</p><p>仔细一看处理整块答案时发现了一句 <code>Circle ans=C[(l/B+1)*B][r/B*B];</code>。</p><p>蛤？</p><hr><p>改掉后就是<strong>持续</strong>的 TLE 和 WA。</p><p>陆陆续续地一共交了 $\bf28$ <strong>发</strong>！</p><p>最后弃坑了。此时比赛已过了 3h。</p><p>后来 sjy 用线段树过了这题。<del>梦回一周前 Day 1。</del></p><p><del>我上次罚这么多时还是上次！</del></p><p><del>我上次分块碾不了标算还是上次！</del></p><hr><p>和灰鹤交流了一下，他开 T2，我开 T8。</p><p>T8 计算几何？</p><p>刚开始要写时神 SegmentTree 过了此题。</p><hr><p>于是打算刚 T10（因为我开始看成了无向图，以为是莫队裸题）</p><p>然后打完后发现样例第一问过不去，才意识到题目读错了。</p><p>后来想了想正解应该是 <code>bitset</code> 之类的。</p><hr><p>听说灰鹤 T2 算法假了。</p><p>我去围观。发现不会。</p><hr><p>最后成绩出来了，38 名。</p><p>我成功为队伍贡献了 28 发罚时，使我们荣获 8 题倒数！/qd/qd/qd</p><p>要被乳了（悲）。</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:09</td><td style=text-align:center>C</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:54</td><td style=text-align:center>A</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>12:55</td><td style=text-align:center>L</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>13:50</td><td style=text-align:center>I</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>14:38</td><td style=text-align:center>G</td><td style=text-align:center>猫猬兽</td></tr><tr><td style=text-align:center>15:07</td><td style=text-align:center>H</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>15:15</td><td style=text-align:center>D</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>15:52</td><td style=text-align:center>F</td><td style=text-align:center>Rainbow_qwq</td></tr></tbody></table><hr><h2 id=day-4>Day 4
<a class=header-anchor href=#day-4></a></h2><p>草又忘掉比赛了。</p><p>恰饭时想起来，火速吃完去写。</p><p>到机房已经 12:18 了。</p><p>今天人手相对不足，根本没得玩，GG。</p><hr><p>先开 D。</p><p>草这不显然没有。</p><hr><p>再开 F。</p><p>题目读了一年。</p><p>你这个 $199$ 是<strong>已经花的钱数</strong>而不是<strong>第一张票的钱数</strong>你不加粗哒？</p><hr><p>然后是 A。</p><p>简单区间 dp。</p><p>细节调了一会。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-1> 1</a></span><span><span style=color:#66d9ef>const</span> ullt Mod<span style=color:#f92672>=</span><span style=color:#ae81ff>1e9</span><span style=color:#f92672>+</span><span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-2> 2</a></span><span><span style=color:#66d9ef>typedef</span> ConstMod<span style=color:#f92672>::</span>mod_ullt<span style=color:#f92672>&lt;</span>Mod<span style=color:#f92672>&gt;</span>modint;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-3> 3</a></span><span><span style=color:#66d9ef>typedef</span> std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>modint<span style=color:#f92672>&gt;</span>modvec;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-4> 4</a></span><span>modint Ans[<span style=color:#ae81ff>2</span>][<span style=color:#ae81ff>505</span>][<span style=color:#ae81ff>505</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-5> 5</a></span><span><span style=color:#66d9ef>int</span> A[<span style=color:#ae81ff>5005</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-6> 6</a></span><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-7> 7</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-8> 8</a></span><span>	uint t;scanf(<span style=color:#e6db74>&#34;%u&#34;</span>,<span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-9> 9</a></span><span>	<span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;=</span><span style=color:#ae81ff>500</span>;i<span style=color:#f92672>++</span>)Ans[<span style=color:#ae81ff>0</span>][i][i]<span style=color:#f92672>=</span>Ans[<span style=color:#ae81ff>1</span>][i][i]<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-10>10</a></span><span>	<span style=color:#66d9ef>while</span>(t<span style=color:#f92672>--</span>){
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-11>11</a></span><span>		uint n,m;scanf(<span style=color:#e6db74>&#34;%u%u&#34;</span>,<span style=color:#f92672>&amp;</span>n,<span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-12>12</a></span><span>		<span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)scanf(<span style=color:#e6db74>&#34;%d&#34;</span>,A<span style=color:#f92672>+</span>i);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-13>13</a></span><span>		<span style=color:#66d9ef>for</span>(uint len<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>;len<span style=color:#f92672>&lt;=</span>n;len<span style=color:#f92672>+=</span><span style=color:#ae81ff>2</span>)<span style=color:#66d9ef>for</span>(uint l<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;l<span style=color:#f92672>+</span>len<span style=color:#f92672>&lt;=</span>n;l<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-14>14</a></span><span>		{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-15>15</a></span><span>			Ans[<span style=color:#ae81ff>0</span>][l][l<span style=color:#f92672>+</span>len]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-16>16</a></span><span>			<span style=color:#66d9ef>if</span>(A[l]<span style=color:#f92672>&gt;=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&amp;&amp;</span>A[l]<span style=color:#f92672>+</span>A[l<span style=color:#f92672>+</span>len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-17>17</a></span><span>			{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-18>18</a></span><span>				<span style=color:#66d9ef>if</span>(A[l])
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-19>19</a></span><span>					Ans[<span style=color:#ae81ff>0</span>][l][l<span style=color:#f92672>+</span>len]<span style=color:#f92672>+=</span>Ans[<span style=color:#ae81ff>1</span>][l<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][l<span style=color:#f92672>+</span>len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-20>20</a></span><span>				<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-21>21</a></span><span>					Ans[<span style=color:#ae81ff>0</span>][l][l<span style=color:#f92672>+</span>len]<span style=color:#f92672>+=</span>Ans[<span style=color:#ae81ff>1</span>][l<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][l<span style=color:#f92672>+</span>len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>*</span>m;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-22>22</a></span><span>			}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-23>23</a></span><span>			<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>((<span style=color:#f92672>!</span>A[l]<span style=color:#f92672>||!</span>A[l<span style=color:#f92672>+</span>len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])<span style=color:#f92672>&amp;&amp;</span>(A[l]<span style=color:#f92672>&gt;=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&amp;&amp;</span>A[l<span style=color:#f92672>+</span>len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>&lt;=</span><span style=color:#ae81ff>0</span>))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-24>24</a></span><span>				Ans[<span style=color:#ae81ff>0</span>][l][l<span style=color:#f92672>+</span>len]<span style=color:#f92672>+=</span>Ans[<span style=color:#ae81ff>1</span>][l<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][l<span style=color:#f92672>+</span>len<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-25>25</a></span><span>			Ans[<span style=color:#ae81ff>1</span>][l][l<span style=color:#f92672>+</span>len]<span style=color:#f92672>=</span>Ans[<span style=color:#ae81ff>0</span>][l][l<span style=color:#f92672>+</span>len];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-26>26</a></span><span>			<span style=color:#66d9ef>for</span>(uint j<span style=color:#f92672>=</span>l<span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>;j<span style=color:#f92672>&lt;</span>l<span style=color:#f92672>+</span>len;j<span style=color:#f92672>+=</span><span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-27>27</a></span><span>				Ans[<span style=color:#ae81ff>1</span>][l][l<span style=color:#f92672>+</span>len]<span style=color:#f92672>+=</span>Ans[<span style=color:#ae81ff>0</span>][l][j]<span style=color:#f92672>*</span>Ans[<span style=color:#ae81ff>1</span>][j][l<span style=color:#f92672>+</span>len];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-28><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-28>28</a></span><span>		}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-29><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-29>29</a></span><span>		Ans[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>][n].println();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-30><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-30>30</a></span><span>	}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-31><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-31>31</a></span><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-32><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-32>32</a></span><span>}
</span></span></code></pre></div><hr><p>接着是 G。</p><p>简单贪心，一个细节写挂又罚了一发。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-1> 1</a></span><span><span style=color:#66d9ef>namespace</span> PQueue
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-2> 2</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-3> 3</a></span><span>	std<span style=color:#f92672>::</span>priority_queue<span style=color:#f92672>&lt;</span>llt<span style=color:#f92672>&gt;</span>Q;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-4> 4</a></span><span>    llt Lazy;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-5> 5</a></span><span>    voi <span style=color:#a6e22e>clear</span>(){Lazy<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#66d9ef>while</span>(<span style=color:#f92672>!</span>Q.empty())Q.pop();}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-6> 6</a></span><span>    voi <span style=color:#a6e22e>insert</span>(llt v){Q.push(v<span style=color:#f92672>-</span>Lazy);}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-7> 7</a></span><span>    voi <span style=color:#a6e22e>cut</span>(llt v){Lazy<span style=color:#f92672>-=</span>v;}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-8> 8</a></span><span>    llt <span style=color:#a6e22e>top</span>(){<span style=color:#66d9ef>return</span> Q.top()<span style=color:#f92672>+</span>Lazy;}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-9> 9</a></span><span>};
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-10>10</a></span><span>llt A[<span style=color:#ae81ff>100005</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-11>11</a></span><span>bol <span style=color:#a6e22e>solve</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-12>12</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-13>13</a></span><span>    uint n,k;llt ATK;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-14>14</a></span><span>    scanf(<span style=color:#e6db74>&#34;%u%lld%u&#34;</span>,<span style=color:#f92672>&amp;</span>n,<span style=color:#f92672>&amp;</span>ATK,<span style=color:#f92672>&amp;</span>k);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-15>15</a></span><span>    <span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)scanf(<span style=color:#e6db74>&#34;%lld&#34;</span>,A<span style=color:#f92672>+</span>i);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-16>16</a></span><span>    uint Lim<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-17>17</a></span><span>    <span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,j;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>=</span>j)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-18>18</a></span><span>    {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-19>19</a></span><span>        PQueue<span style=color:#f92672>::</span>clear();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-20>20</a></span><span>        Lim<span style=color:#f92672>=</span>k<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#f92672>-</span>Lim,j<span style=color:#f92672>=</span>i;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-21>21</a></span><span>        <span style=color:#66d9ef>do</span> PQueue<span style=color:#f92672>::</span>cut(A[j]),PQueue<span style=color:#f92672>::</span>insert(A[j<span style=color:#f92672>++</span>]);<span style=color:#66d9ef>while</span>(j<span style=color:#f92672>-</span>i<span style=color:#f92672>&lt;</span>Lim<span style=color:#f92672>&amp;&amp;</span>j<span style=color:#f92672>&lt;</span>n<span style=color:#f92672>&amp;&amp;</span>PQueue<span style=color:#f92672>::</span>top()<span style=color:#f92672>&gt;</span>ATK);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-22>22</a></span><span>        <span style=color:#66d9ef>if</span>(PQueue<span style=color:#f92672>::</span>top()<span style=color:#f92672>&gt;</span>ATK)<span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-23>23</a></span><span>        <span style=color:#66d9ef>for</span>(uint t<span style=color:#f92672>=</span>i;t<span style=color:#f92672>&lt;</span>j;t<span style=color:#f92672>++</span>)ATK<span style=color:#f92672>+=</span>A[t];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-24>24</a></span><span>        Lim<span style=color:#f92672>=</span>j<span style=color:#f92672>-</span>i;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-25>25</a></span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-26>26</a></span><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-27>27</a></span><span>}
</span></span></code></pre></div><hr><p>最后是 B。</p><p>看到罚时罚了一火車就知道这题有坑。</p><p>翻了翻 Clar 发现有零环。</p><p>和灰鹤交流了一下，得到一个 dijkstra+SCC+DAGdp 的做法。</p><p>直接刚 WA 了一发。</p><p>结果发现是某个布尔数组每轮用了两次，第一次用完后没清干净导致的。</p><p>然后过了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-1> 1</a></span><span><span style=color:#75715e>// 最短路 + SCC + DAG 最长路 /qd
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-2> 2</a></span><span><span style=color:#75715e></span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Kosaraju</span>{...}K;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-3> 3</a></span><span>llt E[<span style=color:#ae81ff>100005</span>],P[<span style=color:#ae81ff>100005</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-4> 4</a></span><span><span style=color:#66d9ef>typedef</span> std<span style=color:#f92672>::</span>pair<span style=color:#f92672>&lt;</span>llt,llt<span style=color:#f92672>&gt;</span>Val;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-5> 5</a></span><span><span style=color:#66d9ef>typedef</span> std<span style=color:#f92672>::</span>pair<span style=color:#f92672>&lt;</span>uint,Val<span style=color:#f92672>&gt;</span>Pair;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-6> 6</a></span><span><span style=color:#66d9ef>typedef</span> std<span style=color:#f92672>::</span>pair<span style=color:#f92672>&lt;</span>uint,llt<span style=color:#f92672>&gt;</span>Pair3;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-7> 7</a></span><span>std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>Pair<span style=color:#f92672>&gt;</span>Way[<span style=color:#ae81ff>100005</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-8> 8</a></span><span>std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>Pair3<span style=color:#f92672>&gt;</span>RWay2[<span style=color:#ae81ff>100005</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-9> 9</a></span><span>bol Gone[<span style=color:#ae81ff>100005</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-10>10</a></span><span>llt <span style=color:#a6e22e>dfs</span>(uint p)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-11>11</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-12>12</a></span><span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>Gone[p])<span style=color:#66d9ef>return</span> P[p];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-13>13</a></span><span>    Gone[p]<span style=color:#f92672>=</span>false;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-14>14</a></span><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span> s:RWay2[p])_max(P[p],dfs(s.first)<span style=color:#f92672>+</span>s.second);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-15>15</a></span><span>    <span style=color:#66d9ef>return</span> P[p];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-16>16</a></span><span>}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-17>17</a></span><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-18>18</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-19>19</a></span><span>    uint t;scanf(<span style=color:#e6db74>&#34;%u&#34;</span>,<span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-20>20</a></span><span>    <span style=color:#66d9ef>while</span>(t<span style=color:#f92672>--</span>){
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-21>21</a></span><span>        uint n,m;scanf(<span style=color:#e6db74>&#34;%u%u&#34;</span>,<span style=color:#f92672>&amp;</span>n,<span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-22>22</a></span><span>        <span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)Way[i].clear(),RWay2[i].clear(),E[i]<span style=color:#f92672>=</span><span style=color:#ae81ff>1e18</span>,P[i]<span style=color:#f92672>=-</span><span style=color:#ae81ff>1e18</span>,Gone[i]<span style=color:#f92672>=</span>false;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-23>23</a></span><span>        <span style=color:#66d9ef>while</span>(m<span style=color:#f92672>--</span>){uint u,v;llt e,p;scanf(<span style=color:#e6db74>&#34;%u%u%lld%lld&#34;</span>,<span style=color:#f92672>&amp;</span>u,<span style=color:#f92672>&amp;</span>v,<span style=color:#f92672>&amp;</span>e,<span style=color:#f92672>&amp;</span>p),Way[u<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>].push_back({v<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,{e,p}});}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-24>24</a></span><span>        <span style=color:#66d9ef>typedef</span> std<span style=color:#f92672>::</span>pair<span style=color:#f92672>&lt;</span>llt,uint<span style=color:#f92672>&gt;</span>Pair2;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-25>25</a></span><span>        E[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;std<span style=color:#f92672>::</span>priority_queue<span style=color:#f92672>&lt;</span>Pair2,std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>Pair2<span style=color:#f92672>&gt;</span>,std<span style=color:#f92672>::</span>greater<span style=color:#f92672>&lt;</span>Pair2<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&gt;</span>Q;Q.push({<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>});
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-26>26</a></span><span>        <span style=color:#66d9ef>while</span>(<span style=color:#f92672>!</span>Q.empty())
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-27>27</a></span><span>        {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-28><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-28>28</a></span><span>            uint p<span style=color:#f92672>=</span>Q.top().second;Q.pop();<span style=color:#66d9ef>if</span>(Gone[p])<span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-29><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-29>29</a></span><span>            Gone[p]<span style=color:#f92672>=</span>true;<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span> s:Way[p])<span style=color:#66d9ef>if</span>(_min(E[s.first],E[p]<span style=color:#f92672>+</span>s.second.first))Q.push({E[s.first],s.first});
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-30><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-30>30</a></span><span>        }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-31><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-31>31</a></span><span>        printf(<span style=color:#e6db74>&#34;%lld &#34;</span>,E[n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-32><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-32>32</a></span><span>        K.bzr(n);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-33><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-33>33</a></span><span>        <span style=color:#66d9ef>for</span>(uint p<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;p<span style=color:#f92672>&lt;</span>n;p<span style=color:#f92672>++</span>)<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span> s:Way[p])<span style=color:#66d9ef>if</span>(E[s.first]<span style=color:#f92672>==</span>E[p]<span style=color:#f92672>+</span>s.second.first)K.insert(p,s.first);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-34><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-34>34</a></span><span>        uint cnt<span style=color:#f92672>=</span>K.run();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-35><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-35>35</a></span><span>        <span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>cnt;i<span style=color:#f92672>++</span>)Gone[i]<span style=color:#f92672>=</span>true;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-36><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-36>36</a></span><span>        <span style=color:#66d9ef>for</span>(uint p<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;p<span style=color:#f92672>&lt;</span>n;p<span style=color:#f92672>++</span>)<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span> s:Way[p])
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-37><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-37>37</a></span><span>            <span style=color:#66d9ef>if</span>(E[s.first]<span style=color:#f92672>==</span>E[p]<span style=color:#f92672>+</span>s.second.first<span style=color:#f92672>&amp;&amp;</span>K.host(p)<span style=color:#f92672>!=</span>K.host(s.first))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-38><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-38>38</a></span><span>                RWay2[K.host(s.first)].push_back({K.host(p),s.second.second});
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-39><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-39>39</a></span><span>        Gone[K.host(<span style=color:#ae81ff>0</span>)]<span style=color:#f92672>=</span>false,P[K.host(<span style=color:#ae81ff>0</span>)]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-40><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-40>40</a></span><span>        printf(<span style=color:#e6db74>&#34;%lld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,dfs(K.host(n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)));
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-41><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-41>41</a></span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-42><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-42>42</a></span><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-43><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-43>43</a></span><span>}
</span></span></code></pre></div><hr><p>打完这题后就跑路了。</p><p>因为啥都不会。</p><p>似乎 Rainbow_qwq 与 SegmentTree 轮流冲 I 没有冲出来。（悲）</p><hr><p>最后成绩出来了，127 名，6 题中的第一。</p><p>如果再过一题能前进几十名。</p><p>这边几乎没人在打，所以这场我捡漏了 5 题。/qd/qd/qd</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:20</td><td style=text-align:center>D</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:36</td><td style=text-align:center>F</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:57</td><td style=text-align:center>A</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>13:13</td><td style=text-align:center>K</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>13:19</td><td style=text-align:center>G</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>14:38</td><td style=text-align:center>B</td><td style=text-align:center>myee</td></tr></tbody></table><hr><h2 id=day-5>Day 5
<a class=header-anchor href=#day-5></a></h2><p>和上午模拟赛无缝衔接！</p><p>因为断网，上午不能提前交题离场。/yun/yun/yun</p><p>所以今天又是空着肚子打比赛。/yun/yun/yun</p><hr><p>开题。准备跟榜做。</p><p>蛤你这咋 10min 无人过题哒？</p><p><em>蛤你这咋 10min 无人过题哒？</em></p><p><strong>蛤你这咋 10min 无人过题哒？</strong></p><p>其间随机开题几轮，均告失败。</p><p>做好没有签到的准备。</p><hr><p>咕咕咕了一会，发现 C 有人过而且好像交的人不少，就去康了。</p><p>同时发现 L 神切 G 了。（一血！）</p><p>stO L 神 Orz。</p><p>C 题题意好迷惑啊。</p><p>1e6，看上去像贪心。</p><p>仔细想了想建了一个<strong>流量为 $1$ 的费用流模型</strong>，掏了个类 Dinic 出来。</p><p>MLE 了 2min。</p><p>和 EricQian 在黑暗中（午睡时间）亲切交流了一会，发现自己 Naive 了……</p><p><strong>最大流量为 $1$ 的最小费用最大流（无负权）不就是 Dijkstra 最短路吗！</strong></p><p>打了个 Dijkstra，T 了。</p><p>突然发现自己写假了，改了改就过了。</p><hr><p>看到 T12 过了一火車，去看了看。</p><p>草这就是潜藏的签到题吗……</p><p>按题意模拟一遍，拿个堆优化一下就完了。</p><p>然后撞车撞上了 sjy。</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.luogu.com.cn/upload/image_hosting/y2zizq9l.png alt="T12 撞 sjy"></p><p>sjy 在写，我不知道，交完才发现他已经过了。</p><hr><p>摆烂，摆大烂。</p><p>打开 B 题。</p><p>是道数论。</p><p>转化题意：</p><blockquote><p>积性函数 $f(n)$ 满足 $f(p^c)={p^c\over c}$。</p><p>求 ${1\over n}\sum_{k=1}^nf(k)$。</p><p>对 $29\times2^{57}+1$ 取模。</p><p>$n\le10^{12}$，多测（其中不多于 $6$ 组 $n>10^6$），时限 $6s$。</p></blockquote><p>积性函数前缀和，我一下就想到了 Min_25 筛，很快啊！</p><p><del>虽然我不会写（</del></p><p>但复杂度总是知道的，$O(\frac{n^{\frac34}}{\log n})$。</p><p>这个东西很难跑得过去吧……<del>更何况还要 u128 或 long double 快速乘。</del></p><p>$O(n^{\frac23})$ 的估计也过不了了，只能考虑 $O(\sqrt n)$ 了。</p><p>想起初三时自学但没写过的 PN 筛了！</p><p>打开 OI-wiki 重新看了遍流程，差不多记起来了。</p><p>构造 $g=\operatorname{id}$，直接做就好了。</p><p>差不多打完时发现和 zak 撞车了。</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.luogu.com.cn/upload/image_hosting/whturclc.png alt="PN 撞 zak"></p><p>T 了，快乐！</p><p><del>反正有 zak 在，我是不是可以尽情摆烂，T 了也不用罚时。</del></p><p>赶紧修锅，然后把一火车的锅修掉 AC 后就跑去订正 XJOI 了。</p><hr><p>回来看了看，发现 T4 过的人比较多但我们没人做。</p><p>开题一看，<strong>计算几何</strong>。</p><p>10kb 计几模板，走你！</p><p>由于线段判交（快速判断试验 & 跨立试验）我写过并且封装好了，直接就拎过来用了。</p><p>花了 10min 打了个状压就过了。</p><p>我超这个计几签到我们咋就没人做啊？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-1> 1</a></span><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> Geo2D;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-2> 2</a></span><span><span style=color:#66d9ef>typedef</span> std<span style=color:#f92672>::</span>bitset<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>405</span><span style=color:#f92672>&gt;</span>BIT;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-3> 3</a></span><span>Point P[<span style=color:#ae81ff>4</span>][<span style=color:#ae81ff>105</span>],Q[<span style=color:#ae81ff>25</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-4> 4</a></span><span>BIT To[<span style=color:#ae81ff>25</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-5> 5</a></span><span>uint Ok[<span style=color:#ae81ff>25</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-6> 6</a></span><span>BIT Bf[<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>20</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-7> 7</a></span><span>uint Ok2[<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>20</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-8> 8</a></span><span>uint Log2[<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>20</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-9> 9</a></span><span>voi <span style=color:#a6e22e>solve</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-10>10</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-11>11</a></span><span>    uint n,m;scanf(<span style=color:#e6db74>&#34;%u%u&#34;</span>,<span style=color:#f92672>&amp;</span>n,<span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-12>12</a></span><span>    <span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)Q[i].read(),To[i].set(),Ok[i]<span style=color:#f92672>=</span>(<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span>n)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,Ok[i]<span style=color:#f92672>&amp;=~</span>(<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span>i),Log2[<span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span>i]<span style=color:#f92672>=</span>i;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-13>13</a></span><span>    <span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>m;i<span style=color:#f92672>++</span>)P[<span style=color:#ae81ff>0</span>][i].read(),P[<span style=color:#ae81ff>1</span>][i].read(),P[<span style=color:#ae81ff>2</span>][i].read(),P[<span style=color:#ae81ff>3</span>][i].read();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-14>14</a></span><span>    <span style=color:#66d9ef>for</span>(uint p<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;p<span style=color:#f92672>&lt;</span>n;p<span style=color:#f92672>++</span>)<span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>m;i<span style=color:#f92672>++</span>)<span style=color:#66d9ef>for</span>(uint op<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;op<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>4</span>;op<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-15>15</a></span><span>        <span style=color:#66d9ef>for</span>(uint j<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;j<span style=color:#f92672>&lt;</span>m;j<span style=color:#f92672>++</span>)<span style=color:#66d9ef>for</span>(uint op2<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;op2<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>4</span>;op2<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-16>16</a></span><span>            <span style=color:#66d9ef>if</span>(i<span style=color:#f92672>!=</span>j<span style=color:#f92672>||</span>(op2<span style=color:#f92672>!=</span>op<span style=color:#f92672>&amp;&amp;</span>((op2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>&amp;</span><span style=color:#ae81ff>3</span>)<span style=color:#f92672>!=</span>op))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-17>17</a></span><span>                <span style=color:#66d9ef>if</span>(Pass(Segment(P[op][i],Q[p]),Segment(P[op2][j],P[(op2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>&amp;</span><span style=color:#ae81ff>3</span>][j])))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-18>18</a></span><span>                    To[p][i<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>2</span><span style=color:#f92672>|</span>op]<span style=color:#f92672>=</span>false;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-19>19</a></span><span>    <span style=color:#66d9ef>for</span>(uint p<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;p<span style=color:#f92672>&lt;</span>n;p<span style=color:#f92672>++</span>)<span style=color:#66d9ef>for</span>(uint q<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;q<span style=color:#f92672>&lt;</span>n;q<span style=color:#f92672>++</span>)<span style=color:#66d9ef>if</span>(p<span style=color:#f92672>!=</span>q)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-20>20</a></span><span>        <span style=color:#66d9ef>for</span>(uint j<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;j<span style=color:#f92672>&lt;</span>m;j<span style=color:#f92672>++</span>)<span style=color:#66d9ef>for</span>(uint op2<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;op2<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>4</span>;op2<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-21>21</a></span><span>            <span style=color:#66d9ef>if</span>(Pass(Segment(Q[p],Q[q]),Segment(P[op2][j],P[(op2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>&amp;</span><span style=color:#ae81ff>3</span>][j])))
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-22>22</a></span><span>                Ok[p]<span style=color:#f92672>&amp;=~</span>(<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span>q);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-23>23</a></span><span>    uint ans<span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-24>24</a></span><span>    <span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;i<span style=color:#f92672>&lt;</span>(<span style=color:#ae81ff>1u</span><span style=color:#f92672>&lt;&lt;</span>n);i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-25>25</a></span><span>    {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-26>26</a></span><span>        Bf[i]<span style=color:#f92672>=</span>Bf[i<span style=color:#f92672>-</span>lowbit(i)]<span style=color:#f92672>|</span>To[Log2[lowbit(i)]];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-27>27</a></span><span>        Ok2[i]<span style=color:#f92672>=</span>Ok2[i<span style=color:#f92672>-</span>lowbit(i)]<span style=color:#f92672>|</span>Ok[Log2[lowbit(i)]];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-28><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-28>28</a></span><span>        <span style=color:#66d9ef>if</span>(((i<span style=color:#f92672>&amp;</span>Ok2[i])<span style=color:#f92672>==</span>i)<span style=color:#f92672>&amp;&amp;</span>(<span style=color:#f92672>~</span>Bf[i]).none())
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-29><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-29>29</a></span><span>            _min(ans,(uint)__builtin_popcount(i));
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-30><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-30>30</a></span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-31><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-31>31</a></span><span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>~</span>ans)printf(<span style=color:#e6db74>&#34;%u</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,ans);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-32><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-32>32</a></span><span>    <span style=color:#66d9ef>else</span> puts(<span style=color:#e6db74>&#34;No Solution!&#34;</span>);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-33><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-33>33</a></span><span>}
</span></span></code></pre></div><p>AC 后我们变成了第一名。</p><p>10min 后就被杭阿中赶超了。</p><p>草我是不是如果早点开这题还能略微挽回颓势。可惜没有如果。</p><hr><p>之后我就是纯正摆烂状态。</p><p>反正<strong>神仙带我飞</strong>！</p><p>最后 $11$ 题收场。zak 最后 1min 遗憾未能成功绝杀 E。</p><hr><p>这场我们是 rank2！！！/se/se/se</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:12</td><td style=text-align:center>G</td><td style=text-align:center>SegmentTree(First Blood)</td></tr><tr><td style=text-align:center>12:47</td><td style=text-align:center>F</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>12:54</td><td style=text-align:center>C</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:58</td><td style=text-align:center>J</td><td style=text-align:center>（暂缺）</td></tr><tr><td style=text-align:center>13:10</td><td style=text-align:center>L</td><td style=text-align:center>Rainbow_qwq</td></tr><tr><td style=text-align:center>13:27</td><td style=text-align:center>H</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>13:48</td><td style=text-align:center>B</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>14:31</td><td style=text-align:center>K</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>15:05</td><td style=text-align:center>A</td><td style=text-align:center>Rainbow_qwq</td></tr><tr><td style=text-align:center>15:14</td><td style=text-align:center>D</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>16:10</td><td style=text-align:center>I</td><td style=text-align:center>zhoukangyang</td></tr></tbody></table><hr><h2 id=前五场成绩>前五场成绩
<a class=header-anchor href=#%e5%89%8d%e4%ba%94%e5%9c%ba%e6%88%90%e7%bb%a9></a></h2><p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.luogu.com.cn/upload/image_hosting/2ffbd5le.png alt="HDU2022 前五场"></p><p>看起来真的是<strong>神仙大佬带我飞了捏</strong>。</p><hr><h2 id=day-6>Day 6
<a class=header-anchor href=#day-6></a></h2><p>又是与模拟赛无缝衔接的一天！</p><p>照常不恰饭。</p><hr><p>开题时间到了，却因个中原因未能及时到达。</p><p>12:11 分打开题一看，发现 F 过了很多人，就跑去写。</p><p>手玩了几分钟，得到了贪心结论，然后就去写了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-1> 1</a></span><span>ullt Ans[<span style=color:#ae81ff>500005</span>],Siz[<span style=color:#ae81ff>500005</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-2> 2</a></span><span>std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span>uint<span style=color:#f92672>&gt;</span>Way[<span style=color:#ae81ff>500050</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-3> 3</a></span><span>voi <span style=color:#a6e22e>dfs</span>(uint p,uint f)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-4> 4</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-5> 5</a></span><span>	Ans[p]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,Siz[p]<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-6> 6</a></span><span>	<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span> s:Way[p])<span style=color:#66d9ef>if</span>(s<span style=color:#f92672>!=</span>f){
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-7> 7</a></span><span>		dfs(s,p),
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-8> 8</a></span><span>		_max(Ans[p],Ans[s]);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-9> 9</a></span><span>		Siz[p]<span style=color:#f92672>+=</span>Siz[s];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-10>10</a></span><span>	}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-11>11</a></span><span>	Ans[p]<span style=color:#f92672>+=</span>Siz[p];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-12>12</a></span><span>}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-13>13</a></span><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-14>14</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-15>15</a></span><span>	uint t;scanf(<span style=color:#e6db74>&#34;%u&#34;</span>,<span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-16>16</a></span><span>	<span style=color:#66d9ef>while</span>(t<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-17>17</a></span><span>	{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-18>18</a></span><span>		uint n;scanf(<span style=color:#e6db74>&#34;%u&#34;</span>,<span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-19>19</a></span><span>		<span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)Way[i].clear();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-20>20</a></span><span>		<span style=color:#66d9ef>for</span>(uint i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,u,v;i<span style=color:#f92672>&lt;</span>n;i<span style=color:#f92672>++</span>)scanf(<span style=color:#e6db74>&#34;%u%u&#34;</span>,<span style=color:#f92672>&amp;</span>u,<span style=color:#f92672>&amp;</span>v),Way[<span style=color:#f92672>--</span>u].push_back(<span style=color:#f92672>--</span>v),Way[v].push_back(u);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-21>21</a></span><span>		dfs(<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-22>22</a></span><span>		printf(<span style=color:#e6db74>&#34;%llu</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,Ans[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-23>23</a></span><span>	}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-24>24</a></span><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-25>25</a></span><span>}
</span></span></code></pre></div><p>然后与 cmll02 以几秒之差成功撞车。</p><hr><p>百无聊赖之中开了个 T9。</p><p>申比计算几何。</p><p>大概就是把一个矩形及其放缩、旋转后的矩形在平面上的坐标给你，让你求它们的公共的处于同一位置的点。（描述的可能有些不清晰，
<a href="http://acm.hdu.edu.cn/showproblem.php?pid=7205" title=题目链接>题目链接
</a>）</p><p>然后手玩，然后就玩出来了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-1> 1</a></span><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> Geo2D;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-2> 2</a></span><span>Point <span style=color:#a6e22e>get</span>(Line L1,Line L2){<span style=color:#66d9ef>return</span> L1.P<span style=color:#f92672>+</span>L1.Turn<span style=color:#f92672>*</span>((L2.Turn<span style=color:#f92672>^</span>(L1.P<span style=color:#f92672>-</span>L2.P))<span style=color:#f92672>/</span>(L1.Turn<span style=color:#f92672>^</span>L2.Turn));}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-3> 3</a></span><span>Point A[<span style=color:#ae81ff>4</span>],B[<span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-4> 4</a></span><span>voi <span style=color:#a6e22e>solve</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-5> 5</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-6> 6</a></span><span>    A[<span style=color:#ae81ff>0</span>].read();A[<span style=color:#ae81ff>1</span>].read();A[<span style=color:#ae81ff>2</span>].read();A[<span style=color:#ae81ff>3</span>].read();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-7> 7</a></span><span>    B[<span style=color:#ae81ff>0</span>].read();B[<span style=color:#ae81ff>1</span>].read();B[<span style=color:#ae81ff>2</span>].read();B[<span style=color:#ae81ff>3</span>].read();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-8> 8</a></span><span>    get(
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-9> 9</a></span><span>        Segment(get(Segment(A[<span style=color:#ae81ff>0</span>],A[<span style=color:#ae81ff>3</span>]).Turn(),Segment(B[<span style=color:#ae81ff>0</span>],B[<span style=color:#ae81ff>3</span>]).Turn()),
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-10>10</a></span><span>                get(Segment(A[<span style=color:#ae81ff>1</span>],A[<span style=color:#ae81ff>2</span>]).Turn(),Segment(B[<span style=color:#ae81ff>1</span>],B[<span style=color:#ae81ff>2</span>]).Turn())).Turn(),
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-11>11</a></span><span>        Segment(get(Segment(A[<span style=color:#ae81ff>2</span>],A[<span style=color:#ae81ff>3</span>]).Turn(),Segment(B[<span style=color:#ae81ff>2</span>],B[<span style=color:#ae81ff>3</span>]).Turn()),
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-12>12</a></span><span>                get(Segment(A[<span style=color:#ae81ff>1</span>],A[<span style=color:#ae81ff>0</span>]).Turn(),Segment(B[<span style=color:#ae81ff>1</span>],B[<span style=color:#ae81ff>0</span>]).Turn())).Turn()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-13>13</a></span><span>    ).println();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-14>14</a></span><span>}
</span></span></code></pre></div><p>一交上去就 WA 了，很快啊！</p><p>啊原来这题要求误差 $10^{-6}$ 范围啊，那我输出保留小数点后 $6$ 位又有啥问题捏？</p><p>突然发现似乎有点不对劲。</p><p>把输出改成 $7$ 位，<strong>过了</strong>！</p><p>蛤原来我的手写快写输出，是末位向下取整的啊！</p><hr><p>还有一道签到题 T12 不为做，破防了捏。</p><p>摆摆摆！</p><hr><p>开 T5 瞄了眼。</p><p>推了波并没有什么用的柿子。</p><p>$$f(n,d)\overset{\operatorname{def}}=\sum_{k=1}^nH(kd)$$</p><p>$$ans(n)=\sum_{d=1}^n\mu(d)f^2(\lfloor\frac nd\rfloor,d)$$</p><p>$$f(n,d)=\begin{cases}
\sum_{k|d}M(k)f(\lfloor\frac nk\rfloor,k)&(d>1)\newline
\sum_{i=1}^nH(i)&(d=1)
\end{cases}$$</p><p>其中 $M=\mu*\frac1H$。</p><p>然后就弃坑了。</p><hr><p>看到 cmll02 变成了罚时怪，过去帮忙写 T7。</p><p>然后误认为除了原根外，以任何非零因子做底数的离散对数对 ${\rm Z}_p$ 下非零因子都有定义。</p><p>于是成功罚了 $5$ 发罚时。</p><p>然后 cmll02 自己过了。</p><hr><p>cmll02 突然出现在我的身后！</p><p>cmll02：yk 你为啥不切 T12，都过了 500+ 人了！</p><p>我：真心不会。qwq</p><p>太逊了，被暴 D 了一通捏。</p><p>p.s. sjy 后来随手切了这题。</p><hr><p>离比赛结束还有 1.5h。</p><p>我彻底摆烂，开始进行一个电脑的搬。</p><p>然后搬到了现在这个位置。</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.luogu.com.cn/upload/image_hosting/6e55tjr3.png alt></p><hr><p>这场我们是 rank10！</p><p>/se/se/se</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:17</td><td style=text-align:center>F</td><td style=text-align:center>rwalxfhg</td></tr><tr><td style=text-align:center>12:45</td><td style=text-align:center>I</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:50</td><td style=text-align:center>H</td><td style=text-align:center>Rainbow_qwq</td></tr><tr><td style=text-align:center>13:12</td><td style=text-align:center>K</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>13:13</td><td style=text-align:center>A</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>14:19</td><td style=text-align:center>B</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>14:32</td><td style=text-align:center>G</td><td style=text-align:center>rwalxfhg</td></tr><tr><td style=text-align:center>14:58</td><td style=text-align:center>J</td><td style=text-align:center>rwalxfhg</td></tr><tr><td style=text-align:center>15:44</td><td style=text-align:center>D</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>15:53</td><td style=text-align:center>L</td><td style=text-align:center>Rainbow_qwq</td></tr></tbody></table><hr><h2 id=day-7>Day 7
<a class=header-anchor href=#day-7></a></h2><p>上午模拟赛是原题场，又是 12:00 结束！</p><p>依旧没得恰饭。</p><hr><p>尝试看 H。</p><p>手玩了一下，决定对 SG 打个表。</p><p>结果发现 L 神已经火速切掉了。</p><hr><p>看 D。</p><p>手玩一波，发现很 Easy 啊！</p><p>罚时！罚时！罚时！罚时！AC！</p><p>隔着 $e+l+r+b$ 是迷惑的呢？</p><p>/qd</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-1> 1</a></span><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-2> 2</a></span><span>{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-3> 3</a></span><span>	uint t;scanf(<span style=color:#e6db74>&#34;%u&#34;</span>,<span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-4> 4</a></span><span>	<span style=color:#66d9ef>while</span>(t<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-5> 5</a></span><span>	{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-6> 6</a></span><span>		uint e,l,r,b;scanf(<span style=color:#e6db74>&#34;%u%u%u%u&#34;</span>,<span style=color:#f92672>&amp;</span>e,<span style=color:#f92672>&amp;</span>l,<span style=color:#f92672>&amp;</span>r,<span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-7> 7</a></span><span>		{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-8> 8</a></span><span>			uint E<span style=color:#f92672>=</span>e,L<span style=color:#f92672>=</span>l,R<span style=color:#f92672>=</span>r,B<span style=color:#f92672>=</span>b;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-9> 9</a></span><span>			<span style=color:#66d9ef>if</span>(L<span style=color:#f92672>||</span>R)B<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(B)B<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-10>10</a></span><span>			printf(<span style=color:#e6db74>&#34;%u &#34;</span>,E<span style=color:#f92672>+</span>B<span style=color:#f92672>+</span>std<span style=color:#f92672>::</span>max(L,R));
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-11>11</a></span><span>		}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-12>12</a></span><span>		{
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-13>13</a></span><span>			uint E<span style=color:#f92672>=</span>e,L<span style=color:#f92672>=</span>l,R<span style=color:#f92672>=</span>r,B<span style=color:#f92672>=</span>b;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-14>14</a></span><span>			uint ans<span style=color:#f92672>=</span>L<span style=color:#f92672>+</span>R<span style=color:#f92672>+</span>std<span style=color:#f92672>::</span>min(E<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>,B)<span style=color:#f92672>+</span>E;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-15>15</a></span><span>			printf(<span style=color:#e6db74>&#34;%u</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,ans);
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-16>16</a></span><span>		}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-17>17</a></span><span>	}
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-18>18</a></span><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-19>19</a></span><span>}
</span></span></code></pre></div><hr><p>看 C。</p><p>一眼换根，打了一半突然发现自己 naive 了。</p><p>可以看做是核心向四周连点，且四周的点分别连 $0,1,1,2$ 个点。可能计重，要除二。</p><p>也就是</p><p>$$\frac12\sum_p\sum_{(p,a)\in E}\sum_{(p,b)\in E}\sum_{(p,c)\in E}\sum_{(p,d)\in E}[a,b,c,d\text{不同}]\binom{\deg a-1}2\binom{\deg b-1}1\binom{\deg c-1}1\binom{\deg d-1}0$$</p><p>暴力枚举每个 $p$，</p><p>$$
\begin{aligned}
&\sum_{(p,a)\in E}\sum_{(p,b)\in E}\sum_{(p,c)\in E}\sum_{(p,d)\in E}[a,b,c,d\text{不同}]\binom{\deg a-1}2\binom{\deg b-1}1\binom{\deg c-1}1\binom{\deg d-1}0
\newline=&(\deg p-3)\sum_{(p,a)\in E}\sum_{(p,b)\in E}\sum_{(p,c)\in E}[a,b,c\text{不同}]\binom{\deg a-1}2\binom{\deg b-1}1\binom{\deg c-1}1
\newline=&(\deg p-3)\sum_{(p,a)\in E}\sum_{(p,b)\in E}\sum_{(p,c)\in E}[a\neq b\land a\neq c\land b\neq c]\binom{\deg a-1}2\binom{\deg b-1}1\binom{\deg c-1}1
\end{aligned}
$$</p><p>然后容斥，</p><p>$$[a\neq b\land a\neq c\land b\neq c]=1-[a=b]-[a=c]-[b=c]+2[a=b=c]$$</p><p>于是</p><p>$$
\begin{aligned}
&\sum_{(p,a)\in E}\sum_{(p,b)\in E}\sum_{(p,c)\in E}[a\neq b\land a\neq c\land b\neq c]\binom{\deg a-1}2\binom{\deg b-1}1\binom{\deg c-1}1
\newline=&\Bigg(\sum_{(p,a)\in E}\binom{\deg a-1}2\Bigg)\Bigg(\sum_{(p,a)\in E}\binom{\deg a-1}1\Bigg)^2
\newline&-2\Bigg(\sum_{(p,a)\in E}\binom{\deg a-1}2\binom{\deg a-1}1\Bigg)\Bigg(\sum_{(p,a)\in E}\binom{\deg a-1}1\Bigg)
\newline&-\Bigg(\sum_{(p,a)\in E}\binom{\deg a-1}2\Bigg)\Bigg(\sum_{(p,a)\in E}{\binom{\deg a-1}1}^2\Bigg)
\newline&+2\Bigg(\sum_{(p,a)\in E}\binom{\deg a-1}2{\binom{\deg a-1}1}^2\Bigg)\end{aligned}
$$</p><p>然后就完了。</p><p>如果实现得优秀可以做到 $O(n)$。</p><hr><blockquote><p>成为了自动签到机，还要继续努力！</p></blockquote><p>我是签到题人！</p><p>之后全程不在场。</p><p>不出意外的话我 Day 8 还会来打，Day 9/10 因为有文化课就不来了。</p><p>不过就算我们全体高二不来，单 zak 一个就足以杀到榜上很前面了吧。/qd</p><p>zak 一个人打一百个！</p><hr><p>好，结果出来了，阿克了，并且拿了 Rank 1。</p><p>/se/se/se</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:15</td><td style=text-align:center>H</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>12:24</td><td style=text-align:center>I</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>12:37</td><td style=text-align:center>D</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:38</td><td style=text-align:center>J</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>12:56</td><td style=text-align:center>G</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>12:58</td><td style=text-align:center>C</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>13:04</td><td style=text-align:center>F</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>14:15</td><td style=text-align:center>B</td><td style=text-align:center>Rainbow_qwq</td></tr><tr><td style=text-align:center>14:37</td><td style=text-align:center>E</td><td style=text-align:center>Forever_Pursuit</td></tr><tr><td style=text-align:center>15:53</td><td style=text-align:center>K</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>16:00</td><td style=text-align:center>A</td><td style=text-align:center>SegmentTree</td></tr></tbody></table><hr><h2 id=day-8>Day 8
<a class=header-anchor href=#day-8></a></h2><p>不出意外这回是我最后一场多校了。</p><p>剩下两场因为文化课所以没得去。</p><hr><p>然后上午模拟赛爆零了，调巨久，没调出来……</p><p>我在 12:30 左右开题，一眼秒了签到题 A。</p><p>就奇偶分开排序呗。</p><hr><p>然后手玩了 H。</p><p>没一会就把树形 dp 调出来了。</p><hr><p>接着看 G。</p><p>想了一会。</p><p>首先，最优解各边边长均小于 $n$。</p><p>然后，最优解每条边其 $|i-j|&lt;\sqrt n$ 或 $|P_i-P_j|&lt;\sqrt n$。</p><p>于是乎直接暴力把 $O(n\sqrt n)$ 条边找出来，进行 Kruskal 即可。</p><p>T 了一发。加了个常数优化就过了。</p><p>赛后交被卡常了。</p><hr><p>MC：我开 T5！</p><p>我：好！我开 T2！</p><p>这个线段树维护信息有些难写啊……要同时干两颗线段树，还要同时维护四类状况。</p><p>写了一半发现撞上了 L 神。/qd</p><hr><p>MC：yk 你过来帮我调调 T5 呗！</p><p>我：好。</p><p>看了代码，似乎是维护每个边上次、下次出现可行边的位置，从而判断。</p><p>随手造了组数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-8-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-1>1</a></span><span>1
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-8-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-2>2</a></span><span>4 1
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-8-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-3>3</a></span><span>2 3 2 5
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-8-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-4>4</a></span><span>2 2 2
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-8-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-5>5</a></span><span>2 4
</span></span></code></pre></div><p>然后就叉掉了他的代码。</p><p>此时 sjy 已然过了 T5。</p><hr><p>回去补 XJOI 爆零场了。</p><p>发现赛时二元 GF 柿子列错了……。qwq</p><p>然而 T 了，还是过不去。</p><hr><p>后来回来看时发现只剩一道防 AK 的大模拟 F 了。</p><p>最后赛时好像确实无人过……/yun/yun/yun</p><p>防 AK 用大模拟还是差不多得了捏。</p><p><del>听说 fyy 说他要做抖 M，来写这题了。</del></p><hr><p>过了 $12$ 题，位列 Rank 11！</p><p>/se/se/se</p><table><thead><tr><th style=text-align:center>Time</th><th style=text-align:center>Problem</th><th style=text-align:center>ACer(Luogu ID)</th></tr></thead><tbody><tr><td style=text-align:center>12:07</td><td style=text-align:center>D</td><td style=text-align:center>猫猬兽</td></tr><tr><td style=text-align:center>12:15</td><td style=text-align:center>M</td><td style=text-align:center>zhoukangyang(First Blood)</td></tr><tr><td style=text-align:center>12:32</td><td style=text-align:center>A</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>12:46</td><td style=text-align:center>K</td><td style=text-align:center>猫猬兽</td></tr><tr><td style=text-align:center>12:59</td><td style=text-align:center>H</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>13:32</td><td style=text-align:center>G</td><td style=text-align:center>myee</td></tr><tr><td style=text-align:center>14:03</td><td style=text-align:center>L</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>14:24</td><td style=text-align:center>B</td><td style=text-align:center>SegmentTree</td></tr><tr><td style=text-align:center>14:25</td><td style=text-align:center>C</td><td style=text-align:center>zhoukangyang</td></tr><tr><td style=text-align:center>14:30</td><td style=text-align:center>I</td><td style=text-align:center>Rainbow_qwq</td></tr><tr><td style=text-align:center>14:52</td><td style=text-align:center>E</td><td style=text-align:center>Rainbow_qwq</td></tr><tr><td style=text-align:center>15:42</td><td style=text-align:center>J</td><td style=text-align:center>zhoukangyang</td></tr></tbody></table><hr><h2 id=end>End？
<a class=header-anchor href=#end></a></h2><p>要去上文化课了，我之后几天的不出意外是不会写游记了。</p><p>但是神仙们可能还要打，毕竟他们 NOI 前 7 天到苏州……</p><p>因此这还没完。</p><p>下面挂一下历年多校排名查看页面：</p><p><a href=https://acm.hdu.edu.cn/multi_rank/entry/ranklist/index.php title=https://acm.hdu.edu.cn/multi_rank/entry/ranklist/index.php>https://acm.hdu.edu.cn/multi_rank/entry/ranklist/index.php</a></p><p>别忘了，我们是 <code>team1093 学军中学二队</code>！</p></div><footer class=post-footer><div class=post-tags><a href=/tags/%e6%b8%b8%e8%ae%b0>游记</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
HDU 多校 2022 游记</li><li class=post-copyright-author><strong>本文作者：</strong>
myee</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=https://myeeye.github.io/post/HDU2022/ title="HDU 多校 2022 游记">https://myeeye.github.io/post/HDU2022/</a></li><li class=post-copyright-license><strong>版权声明：</strong>
本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/CSP2022/ rel=next title="CSP2022 游记"><i class="fa fa-chevron-left"></i> CSP2022 游记</a></div><div class="post-nav-prev post-nav-item"></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=waline-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2023</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=author itemprop=copyrightHolder>myee</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.118.2 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script>
<script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#e0e1cc","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"hostname":"https://myeeye.github.io/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":true,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o / 国内可能无法正常使用 waline 评论，请谅解","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":"https://waline-f6vrtotj0-myeeye.vercel.app/","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.42f3b58a368bcbc725e767168f07e54e4815106000c302667d825806716e3ae0.js defer></script></body></html>